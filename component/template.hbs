<section class="horizontal-form">

  {{#accordion-list showExpandAll=false as | al expandFn |}}
    {{#accordion-list-item title=(t 'cluster.auth.title')
                           expand=(action expandFn)
                           expandOnInit=true
    }}
      <div class="row">
        <div class="col span-6 mb-0">
          <label>{{t 'cluster.domainName.label'}}{{field-required}}</label>
          {{#input-or-display editable=(eq mode "new") value=config.domainName}}
            {{input type="text" name="domain-name" placeholder=(t 'cluster.domainName.placeholder')
                    classNames="form-control" value=config.domainName}}
          {{/input-or-display}}
        </div>
        <div class="col span-6 mb-0">
          <label>{{t 'cluster.projectName.label'}}{{field-required}}</label>
          {{#input-or-display editable=(eq mode "new") value=cconfig.projectName}}
            {{input type="text" name="project-name" placeholder=(t 'cluster.projectName.placeholder')
                    classNames="form-control" value=config.projectName}}
          {{/input-or-display}}
        </div>
      </div>
      <div class="row">
        <div class="col span-6 mb-0">
          <label>{{t 'cluster.username.label'}}{{field-required}}</label>
          {{#input-or-display editable=(or (eq mode "new") eq mode "editing") value=config.username}}
            {{input type="text" name="username" classNames="form-control" value=config.username}}
          {{/input-or-display}}
        </div>
        <div class="col span-6 mb-0">
          <label>{{t 'cluster.password.label'}}{{field-required}}</label>
          {{#input-or-display editable=(or (eq mode "new") eq mode "editing") value=config.password}}
            {{input type="password" name="passsword" classNames="form-control" value=config.password}}
          {{/input-or-display}}
        </div>
      </div>
    {{/accordion-list-item}}

    {{#if (gte step 0)}}
      {{#accordion-list-item title=(t 'cluster.cluster.title')
                             expandOnInit=true
                             expandAll=al.expandAll
                             expand=(action expandFn)
      }}
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.clusterVersion.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.clusterVersion}}
              {{new-select class="form-control"
                           content=clusterVersionChoices
                           value=config.clusterVersion
              }}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.clusterType.label'}}{{field-required}}</label>
            {{#input-or-display editable=false  value=config.clusterType}}
              {{new-select class="form-control"
                           content=clusterTypeChoices
                           selected=defaultClusterType
                           value=config.clusterType
              }}
            {{/input-or-display}}
          </div>
        </div>
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.clusterFlavor.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new") value=config.clusterFlavor}}
              {{searchable-select class="from-control"
                                  classNames="form-control"
                                  selected=defaultClusterFlavor
                                  content=clusterFlavorChoices
                                  value=config.clusterFlavor}}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.nodeCount.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new") value=config.nodeCount}}
              {{input type="number" min=1 max=250 name="node-count" classNames="form-control" value=config.nodeCount}}
            {{/input-or-display}}
          </div>
        </div>
      {{/accordion-list-item}}
    {{/if}}

    {{#if (gte step 0)}}
      {{#accordion-list-item title=(t 'cluster.network.title')
                             detail=(t 'cluster.network.detail')
                             expandOnInit=true
                             expandAll=al.expandAll
                             expand=(action expandFn)
      }}
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.vpcName.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.vpcName }}
              {{input type="text"
                      name="vpc-name"
                      placeholder=(t 'cluster.vpcName.placeholder')
                      classNames="form-control"
                      value=config.vpcName}}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.subnetName.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.subnetName}}
              {{input type="text"
                      name="subnet-name"
                      placeholder=(t 'cluster.subnetName.placeholder')
                      classNames="form-control"
                      value=config.subnetName}}
            {{/input-or-display}}
          </div>
        </div>
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.networkMode.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.networkMode}}
              {{new-select class="form-control"
                           content=networkModeChoices
                           value=config.networkMode
              }}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.networkCIDR.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.networkCIDR}}
              {{input type="text" name="subnet-name" placeholder=(t 'cluster.networkCIDR.placeholder')
                      classNames="form-control" value=config.networkCIDR}}
            {{/input-or-display}}
          </div>
        </div>
      {{/accordion-list-item}}
    {{/if}}

    {{#if (gte step 0)}}
      {{#accordion-list-item title=(t 'cluster.node.title')
                             detail=(t 'cluster.node.detail')
                             expandOnInit=true
                             expandAll=al.expandAll
                             expand=(action expandFn)
      }}
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.nodeFlavor.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.vpcName}}
              {{input type="text"
                      name="node-flavor"
                      placeholder=(t 'cluster.nodeFlavor.placeholder')
                      classNames="form-control"
                      detail=(t 'cluster.nodeFlavor.detail')
                      value=config.vpcName}}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.availabilityZone.label'}}{{field-required}}</label>
            {{#input-or-display
                    editable=(eq mode "new")
                    value=config.availabilityZone}}
              {{new-select class="form-control"
                           content=azChoices
                           value=config.availabilityZone
              }}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.keyPair.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new")  value=config.keyPair}}
              {{input type="text"
                      name="key-pair"
                      classNames="form-control"
                      value=config.keyPair}}
            {{/input-or-display}}
          </div>
        </div>
      {{/accordion-list-item}}
    {{/if}}

    {{#if (gte step 0)}}
      {{#accordion-list-item title=(t 'cluster.disk.title')
                             detail=(t 'cluster.disk.detail')
                             expandOnInit=true
                             expandAll=al.expandAll
                             expand=(action expandFn)
      }}
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.rootDiskType.label'}}{{field-required}}</label>
            {{#input-or-display
                    editable=(eq mode "new")
                    value=config.rootDiskType}}
              {{new-select class="form-control"
                           content=diskTypeChoices
                           value=config.rootDiskType
              }}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.rootDiskSize.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new") value=config.rootDiskSize}}
              {{input type="number" min=40 max=1000 name="root-size" classNames="form-control"
                      value=config.rootDiskSize}}
            {{/input-or-display}}
          </div>
        </div>
        <div class="row">
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.dataDiskType.label'}}{{field-required}}</label>
            {{#input-or-display
                    editable=(eq mode "new")
                    value=config.dataDiskType}}
              {{new-select class="form-control"
                           content=diskTypeChoices
                           value=config.dataDiskType
              }}
            {{/input-or-display}}
          </div>
          <div class="col span-6 mb-0">
            <label>{{t 'cluster.dataDiskSize.label'}}{{field-required}}</label>
            {{#input-or-display editable=(eq mode "new") value=config.dataDiskSize}}
              {{input type="number" min=100 max=1000 name="root-size" classNames="form-control"
                      value=config.dataDiskSize}}
            {{/input-or-display}}
          </div>
        </div>
      {{/accordion-list-item}}
    {{/if}}

  {{/accordion-list}}

  {{save-cancel editing=(eq mode 'edit')
                save='save'
                cancel='cancel'
                createLabel=createLabel
  }}

  {{!-- This component shows errors produced by validate() in the component --}}
  {{top-errors errors=errors}}

</section>